|-----+-----------------------+------------------------------------------------------------------------|
| MUA | Mail user agent       | from user to MTA                                                       |
| MTA | Mail transport agent  | from sender to receiver server                                         |
| MSA | Mail submission agent | accepts email from MTA                                                 |
| MDA | Mail delivery agent   | delivering email to the mail spool                                     |
| MRA | Mail retrieval agent  | fetches remote email and works with the MDA, possible built into a MUA |
|-----+-----------------------+------------------------------------------------------------------------|

- MUA -> [mail] -> MTA -> queue -> MTA (internet) <- MRA <- MUA
                                -> MDA (local)

- smart Host/mail relay: MTA configured to send email from another system
- mail queue: mail waiting to be processed
- mailbox: where mail is stored

- 25  SMTP - between servers, incoming email
  110 POP3
  143 IMAP
  465 SMTPs
  587 Submission, send outgoing email
  993 IMAPs (better for multiple systems, for slow connections)
  995 POP3s
  4190 ManageSieve

- MUA > SMTP
  MSA > Mail Queue > MTA > SMTP
  MTA > MDA > Mail spool
  MTA > POP3

- recommended subdomains: spam, webmail, postfixadmin, mail

- https://asynchronous.in/posts/email-with-notmuch-astroid/

- LDAP
  https://en.wikipedia.org/wiki/Apache_Directory (apacheds)

- webmail
  https://www.sogo.nu/

- Search
  - https://upsilon.cc/%7Ezack/blog/posts/2011/01/how_to_use_Notmuch_with_Mutt/
  - https://notmuchmail.org/
    - gives a query language to search through emaisl
      "from:abc@domain.com and to:bob@domain.com and NSA and free and backup"
- MUA
  - neomutt https://github.com/neomutt/neomutt
  - neomutt sidebar patch https://lunar-linux.org/wp-content/cache/supercache/www.lunar-linux.org/mutt-sidebar/index.html.gz
  - fetches mail from POP3/IMAP https://github.com/nicm/fdm
  - maildir https://github.com/leahneukirchen/mblaze

- imap sync
  - https://wiki.archlinux.org/title/OfflineIMAP
    https://www.offlineimap.org/documentation.html
  - https://wiki.archlinux.org/title/Isync
    https://sourceforge.net/p/isync/isync/ci/master/tree/
    config https://github.com/rememberYou/dotfiles/blob/master/isync/.config/isync/mbsyncrc

- MTA
  https://www.courier-mta.org/
  https://cr.yp.to/qmail.html https://en.wikipedia.org/wiki/Qmail

- MDA
  https://www.dovecot.org/
  https://en.wikipedia.org/wiki/Procmail

- spam filters https://packages.gentoo.org/categories/mail-filter
  Rspamd https://rspamd.com/doc/
  SpamAssassin https://en.wikipedia.org/wiki/Apache_SpamAssassin
  DSpam
  clamsmtp http://thewalter.net/stef/software/clamsmtp/
  procmail https://en.wikipedia.org/wiki/Procmail
